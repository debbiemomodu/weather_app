<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Weather</title>
   
    <link rel="stylesheet" href="/bootstrap-5.3.8-dist/css/bootstrap.min.css">
   
</head>
<body  style="background-image: url('asset/image/premium_photo-1685868556097-641c237f3fa5.avif'); background-size: cover; background-repeat: no-repeat; min-height: 100vh;">
     <div class="container ">
        <h4 id="welcome" class="text-light py-2  text-center "></h4>
     
         
        <div class="row justify-content-center "  id="search">
           <div class="col-sm-4">
               <input class="form-control text-dark" type="text" id="searchInput" placeholder="Enter city name">
           </div>
          <div class="col-sm-2">
                 <button class="btn  btn-dark" id="searchBtn">search</button>
          </div>
        
         
        </div>
        <div id="loader" class="mt-3 " style="display: none; justify-content: center; align-items: center; height: 100px;">
      <div class="spinner-border text-light" role="status">
        <span class="visually-hidden">Loading...</span>
      </div>
    </div>
       

     <div class=" row justify-content-center text-center mt-3"  id="weather" >
      
     </div> 
    </div>
  

  <script>
    

    const btn = document.getElementById("searchBtn");
    const list = document.getElementById("weather");
    const apiKey = "b368c2a3665140749f9143953251709";
     document.getElementById("welcome").innerText = "Welcome " + localStorage.getItem("name");

    

    
    btn.addEventListener("click",function(){
        const input = document.getElementById("searchInput").value;

        if(!input){
            alert("enter a city")
            return;
        }
         list.innerHTML = ""; 
      loader.style.display = "flex";
        
         fetch(`https://api.weatherapi.com/v1/current.json?key=${apiKey}&q=${input}&aqi=no`)
        .then(res=> res.json())
        .then(data=>{
            loader.style.display = "none"
       if (data.error) {
         

        list.innerHTML  = `<p class="text-danger">${data.error.message}</p>`
        return;
      }
            list.innerHTML = `
            <div class ="card shadow col-md-6 bg-dark text-light p-3"> 
                 <p><b> Time: </b>${data.location.localtime}</p>
               <p><b> Temperature: </b>${data.current.temp_c}°C</p>
            <p><b> Humidity: </b>${data.current.humidity}%</p>
             <p><b> Dewpoint: </b>${data.current.dewpoint_f}°F</p>

                </div>
           
            `
              
        } )
        .catch(error => console.error("Error fetching weather:",error));
       
    });




  </script>
</body>
</html>
